# One Mode (Универсальный режим)

**Описание:**
One Mode — это универсальный режим для AI-ассистента и команды, который объединяет лучшие практики VAN, PLAN, CREATIVE, IMPLEMENT, REFLECT/ARCHIVE. Используется для комплексного ведения проекта, автоматизации, логирования и интеграции с Fast MCP.

---

## Как работает One Mode с ACT (AI Context Tracker)

**AI Context Tracker (ACT)** — это механизм, который отслеживает весь контекст работы над проектом: задачи, решения, прогресс, паттерны, обсуждения. ACT автоматически обновляет core-файлы Memory Bank и синхронизирует их с Fast MCP.

### Принцип работы:
- Все действия пользователя и AI (создание задачи, принятие решения, обсуждение, ревью) фиксируются в соответствующих файлах (decisionLog.md, progress.md, activeContext.md и др.).
- ACT отслеживает изменения и автоматически логирует их через Fast MCP (REST/MCP endpoint).
- Любое изменение в Memory Bank (например, новая задача или решение) сразу становится доступно для AI-ассистента и команды.
- ACT поддерживает live-обновления и federation между инстансами (через Fast MCP).

### Сценарии использования:
- Пользователь создает новую задачу → ACT добавляет запись в progress.md и логирует событие через Fast MCP.
- AI-ассистент предлагает архитектурное решение → ACT фиксирует его в decisionLog.md, указывает автора и обоснование.
- Команда обсуждает паттерн → ACT обновляет systemPatterns.md и синхронизирует изменения между всеми участниками.
- Любое действие (создание, обновление, ревью) автоматически логируется и доступно для поиска и анализа.

### Примеры команд для ACT:
- "act log task 'Реализовать интеграцию с Fast MCP'"
- "act decision 'Использовать CQRS для разделения команд и запросов'"
- "act update pattern 'Repository' — описание и область применения"
- "act review 'Завершить ревью задачи X и зафиксировать выводы'"

### Best practices для работы с ACT:
- Всегда используйте команды act для логирования ключевых событий — это обеспечивает прозрачность и автоматизацию.
- Проверяйте, что все важные решения и изменения отражены в core-файлах Memory Bank.
- Используйте интеграцию с Fast MCP для live-логирования и federation.
- Для сложных проектов — настраивайте автоматические напоминания и проверки актуальности контекста через ACT.

---

## Основные сценарии использования
- Быстрый старт нового проекта (инициализация структуры, заполнение projectBrief.md, productContext.md)
- Планирование задач и подзадач (ведение decisionLog.md, progress.md)
- Архитектурные и технические решения (логирование в decisionLog.md)
- Ведение паттернов и стандартов (systemPatterns.md)
- Интеграция с Fast MCP для автоматического логирования событий
- Проведение ревью, ретроспектив, архивирование решений

---

## Чеклист для пользователя и AI
- [ ] Проанализировать структуру проекта и заполнить projectBrief.md
- [ ] Сформировать productContext.md (назначение, ограничения, бизнес-логика)
- [ ] Разбить задачи на подзадачи, зафиксировать в progress.md
- [ ] Все ключевые решения логировать в decisionLog.md (дата, автор, обоснование)
- [ ] Описывать повторяющиеся паттерны в systemPatterns.md
- [ ] Использовать knowledge_packages/ для примеров и шаблонов
- [ ] Интегрировать с Fast MCP для автоматического логирования и federation
- [ ] Проводить ревью и ретроспективу, архивировать завершённые задачи

---

## Примеры промптов
- "Инициализируй новый проект с Memory Bank и Fast MCP"
- "Заполни projectBrief.md для AI-ассистента"
- "Добавь архитектурное решение в decisionLog.md"
- "Покажи все паттерны из systemPatterns.md"
- "Сформируй план задач для релиза"
- "Логируй прогресс по задаче X в progress.md"
- "Проведи ревью и зафиксируй выводы в decisionLog.md"

---

## Best practices
- Все файлы оформлять в markdown, использовать теги, кросс-ссылки
- Для каждого решения — фиксировать дату, автора, обоснование
- Для паттернов — указывать область применения и примеры
- Для задач — вести прогресс с датами и статусами
- Интегрировать Memory Bank с Fast MCP для автоматизации логирования
- Использовать визуализацию (Mermaid, Graphviz) для процессов и связей

---

## Интеграция с Fast MCP
- Использовать REST/MCP endpoint для автоматического логирования событий (создание задачи, принятие решения, обновление статуса)
- Подключать AI-ассистента к Memory Bank через API для live-обновлений
- Использовать federation для обмена знаниями между инстансами
- Логировать все ключевые действия в decisionLog.md и progress.md

---

## Пример структуры One Mode
```markdown
memory-bank/
  activeContext.md
  decisionLog.md
  productContext.md
  progress.md
  projectBrief.md
  systemPatterns.md
  custom_modes/
    one_mode_instructions.md
  knowledge_packages/
    ...
  .cursor/rules/
    isolation_rules/
      ...
```

---

## Рекомендации по развитию
- Добавлять новые сценарии и чеклисты по мере развития проекта
- Интегрировать с CI/CD для автоматического обновления Memory Bank
- Использовать AI для анализа и рефакторинга контента
- Вести историю изменений и откатов через Fast MCP 